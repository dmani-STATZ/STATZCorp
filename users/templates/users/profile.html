{% extends "users/base_no.html" %}
{% load static %}

{% block content %}
<div class="min-h-screen flex items-start justify-center py-12 px-4 sm:px-6 lg:px-8 pt-8">
    <div class="max-w-2xl w-full space-y-8">
        <div class="login-box">
            <h2 class="mt-2 text-center text-3xl font-extrabold text-gray-100">User Profile</h2>
            
            <div class="mt-6 space-y-6">
                <div class="bg-gray-800 bg-opacity-50 p-4 rounded-lg">
                    <h3 class="text-lg font-semibold text-white mb-4">Account Information</h3>
                    <div class="space-y-2">
                        <p class="text-gray-300"><span class="font-medium">Username:</span> {{ user.username }}</p>
                        <p class="text-gray-300"><span class="font-medium">Email:</span> {{ user.email|default:"Not set" }}</p>
                        <p class="text-gray-300"><span class="font-medium">First Name:</span> {{ user.first_name|default:"Not set" }}</p>
                        <p class="text-gray-300"><span class="font-medium">Last Name:</span> {{ user.last_name|default:"Not set" }}</p>
                        <p class="text-gray-300"><span class="font-medium">Staff Status:</span> 
                            {% if user.is_staff %}
                                <span class="text-green-400">Yes</span>
                            {% else %}
                                <span class="text-red-400">No</span>
                            {% endif %}
                        </p>
                        <p class="text-gray-300"><span class="font-medium">Superuser:</span> 
                            {% if user.is_superuser %}
                                <span class="text-green-400">Yes</span>
                            {% else %}
                                <span class="text-red-400">No</span>
                            {% endif %}
                        </p>
                    </div>
                </div>

                <div class="bg-gray-800 bg-opacity-50 p-4 rounded-lg">
                    <h3 class="text-lg font-semibold text-white mb-4">Password Management</h3>
                    <div class="space-y-3">
                        {% if user.has_usable_password %}
                            <p class="text-gray-300">You have a password set for username/password login.</p>
                            <p class="text-sm text-gray-400">You can change your password without entering the current one.</p>
                            <a href="{% url 'users:password_change' %}" class="btn-primary inline-block py-2 px-4 rounded-md">
                                Change Password
                            </a>
                        {% else %}
                            <p class="text-yellow-300">You don't have a password set. Set one to use username/password login.</p>
                            <a href="{% url 'users:password_set' %}" class="btn-primary inline-block py-2 px-4 rounded-md">
                                Set Password
                            </a>
                        {% endif %}
                    </div>
                </div>

                <div class="bg-gray-800 bg-opacity-50 p-4 rounded-lg">
                    <h3 class="text-lg font-semibold text-white mb-4">Authentication Methods</h3>
                    <div class="space-y-2">
                        <p class="text-gray-300">Available login methods:</p>
                        <ul class="list-disc list-inside text-gray-300 space-y-1">
                            <li>Microsoft OAuth (Recommended)</li>
                            {% if user.has_usable_password %}
                                <li>Username & Password</li>
                            {% endif %}
                        </ul>
                    </div>
                </div>

                <div class="flex space-x-4">
                    <a href="{% url 'index' %}" class="btn-secondary flex-1 py-2 px-4 rounded-md text-center">
                        Back to Dashboard
                    </a>
                    <a href="{% url 'users:logout' %}" class="btn-primary flex-1 py-2 px-4 rounded-md text-center">
                        Sign Out
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
