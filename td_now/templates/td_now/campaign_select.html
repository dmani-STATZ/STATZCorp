{% extends 'base_template.html' %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'td_now/style.css' %}">
<style>
  .sel-wrap { max-width: 1100px; margin: 1rem auto; color: #111827; }
  .sel-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
  .panel { background: #0b1220; border: 1px solid #1f2937; border-radius: .25rem; padding: .75rem; color: #e5e7eb; }
  .panel h3 { margin: 0 0 .5rem; color: #cbd5e1; }
  .list { display: flex; flex-direction: column; gap: .35rem; }
  .row { display: flex; align-items: center; gap: .5rem; border: 1px solid #374151; background: #0f172a; border-radius: .25rem; padding: .35rem .5rem; }
  .row .name { flex: 1 1 auto; color: #e5e7eb; }
  .btn { background: #2563eb; color: white; padding: .25rem .5rem; border-radius: .25rem; }
  .btn.green { background: #10b981; }
  .btn.gray { background: #6b7280; }
  .actions { margin-top: .5rem; display:flex; gap:.5rem; }
  .small { color:#94a3b8; font-size:.85rem; }
  .top-actions { display:flex; gap:.5rem; margin-bottom:.5rem; }
  .search { padding:.25rem .5rem; background:#0f172a; color:#e5e7eb; border:1px solid #374151; border-radius:.25rem; }
  a { color: inherit; text-decoration: none; }
</style>
{% endblock extra_head %}

{% block body %}
<div class="sel-wrap">
  <h2 class="td-title">TD Now</h2>
  <div class="sel-grid">
    <div class="panel">
      <h3>Campaigns</h3>
      <div class="top-actions">
        <a class="btn green" href="{% url 'td_now:campaign_builder' %}">Create Campaign</a>
      </div>
      <div id="campaign-list" class="list"></div>
    </div>
    <div class="panel">
      <h3>Single Map (Free Play)</h3>
      <div class="top-actions">
        <a class="btn" href="{% url 'td_now:builder' %}">Map Builder</a>
      </div>
      <div id="map-list" class="list"></div>
    </div>
  </div>
</div>
{% endblock body %}

{% block extra_scripts %}
{{ block.super }}
<script src="{% static 'td_now/campaign_select.js' %}?v={{ cache_version }}"></script>
{% endblock extra_scripts %}
