{% extends "contracts/contract_base.html" %}
{% load static %}

{% block title %}Suppliers{% endblock %}

{% block content %}
<h1 class="text-lg font-semibold mb-2">
    Suppliers – {{ type_label }}
</h1>
<div id="supplier-list"
     class="mt-4 text-sm text-slate-700 max-h-[70vh] overflow-auto">

  <table class="min-w-full border border-slate-200 text-left">
    <thead class="bg-slate-50">
      <tr>
        <th class="px-3 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wide">
          Supplier Name
        </th>
        <th class="px-3 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wide">
          Cage Code
        </th>
        <th class="px-3 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wide">
          Type
        </th>
      </tr>
    </thead>

    <tbody>
      {% for supplier in suppliers %}
      <tr class="border-t border-slate-200 hover:bg-slate-50">
        <td class="px-3 py-2">
          <a href="{% url 'suppliers:supplier_detail' supplier.id %}"
             data-id="{{ supplier.id }}"
             class="supplier-card supplier-item font-medium text-slate-900 hover:underline">
            {{ supplier.name }}
          </a>
        </td>
        <td class="px-3 py-2 text-slate-700">
          {{ supplier.cage_code|default:"—" }}
        </td>
        <td class="px-3 py-2 text-slate-700">
          {{ supplier.supplier_type.description|default:"Unspecified" }}
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="3" class="px-3 py-4 text-slate-500 text-sm">
          No suppliers found.
        </td>
      </tr>
      {% endfor %}
    </tbody>
    <tfoot>

        {% if is_paginated %}
            <tr><td colspan="3">

            {# First / Previous #}
            {% if page_obj.has_previous %}
            <a href="?page=1"
                class="px-2 py-1 border border-slate-300 rounded hover:bg-slate-100">
                &laquo;&laquo;   {# <<< #}
            </a>
            <a href="?page={{ page_obj.previous_page_number }}"
                class="px-2 py-1 border border-slate-300 rounded hover:bg-slate-100">
                &laquo;          {# < #}
            </a>
            {% else %}
            <span class="px-2 py-1 border border-slate-200 rounded text-slate-400">
                &laquo;&laquo;
            </span>
            <span class="px-2 py-1 border border-slate-200 rounded text-slate-400">
                &laquo;
            </span>
            {% endif %}

            {# Page X of Y #}
            <span>
            Page {{ page_obj.number }} of {{ paginator.num_pages }}
            </span>

            {# Next / Last #}
            {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}"
                class="px-2 py-1 border border-slate-300 rounded hover:bg-slate-100">
                &raquo;          {# > #}
            </a>
            <a href="?page={{ paginator.num_pages }}"
                class="px-2 py-1 border border-slate-300 rounded hover:bg-slate-100">
                &raquo;&raquo;   {# >>> #}
            </a>
            {% else %}
            <span class="px-2 py-1 border border-slate-200 rounded text-slate-400">
                &raquo;
            </span>
            <span class="px-2 py-1 border border-slate-200 rounded text-slate-400">
                &raquo;&raquo;
            </span>
            {% endif %}

            </td></tr>
        {% endif %}

    </tfoot>
  </table>

 



</div>

{% endblock %}